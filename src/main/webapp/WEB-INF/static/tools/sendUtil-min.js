var SendUtil=function(){var c=function(o,t,r){r||(DialogUtil.showLoading(),t=l(t)),location.href=PurifyUtil.uri(contextPath+o+t)};function l(o){return o="string"==typeof o?"/"+o:function(o){return"number"==typeof o||"boolean"==typeof o}(o)?"/"+o.toString():o instanceof Array?function(o,r){var i="";return $.each(o,function(o,t){!function(o){return void 0===o||null==o}(t)&&(i+=r+t)}),i}(o,"/"):"",PurifyUtil.dom(o)}function s(o){var i="";o.forEach(function(o,t,r){i+="欄位名稱:"+o.fieldName,i+=", 錯誤訊息:"+o.errorMessage+"\n"}),alert(i)}return{get:function(o,t,r,i,e){e&&DialogUtil.showLoading();var n=contextPath+o+l(t),a={method:"get",url:PurifyUtil.uri(n),contentType:"application/json;charset=utf-8;",async:!0,success:function(o){o.isLogicError=!1,o.validateFieldErrors?(s(o.validateFieldErrors),o.isLogicError=!0):o.validateLogicError&&(alert(o.validateLogicError),o.isLogicError=!0),r(o)},error:function(o){o.responseText&&(o=ObjectUtil.parse(o.responseText),alert(o.message),c("/dashboard"))},complete:function(){DialogUtil.hideLoading()}};$.ajax($.extend(a,i))},href:c,post:function(o,t,r,i,e){e&&DialogUtil.showLoading(),PurifyUtil.obj(t);var n={method:"post",url:contextPath+o,contentType:"application/json;charset=utf-8;",data:ObjectUtil.stringify(t),async:!0,success:function(o){if(o.isLogicError=!1,o.validateFieldErrors)s(o.validateFieldErrors),o.isLogicError=!0;else if(o.validateLogicError)alert(o.validateLogicError),o.isLogicError=!0;else if(0<o.toString().indexOf("loginForm"))return void c("/login");r(o)},error:function(o){o.responseText&&(o=ObjectUtil.parse(o.responseText),alert(o.message),c("/dashboard"))},complete:function(){DialogUtil.hideLoading()}};$.ajax($.extend(n,i))},reload:function(){DialogUtil.close(),DialogUtil.showLoading(),location.reload()},formPost:function(o,t){$("div#breadcrumb").append("<form id='postForm' class='hidden' action='' method='post'></form>"),$("form#postForm").attr("action",contextPath+o).append("<input name='formPostData' value='"+ObjectUtil.stringify(t)+"' />").submit()}}}();